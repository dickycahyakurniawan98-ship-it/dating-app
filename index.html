<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Continue to WhatsApp</title>
    
    <!-- --- OPEN GRAPH META TAGS (Untuk Preview Share di Facebook/Sosial Media) --- -->
    <meta property="og:title" content="WhatsApp Fast Service - Click to Continue">
    <meta property="og:description" content="Direct access to our customer service via WhatsApp. Click anywhere to start a chat!">
    <!-- GANTI URL DI BAWAH INI DENGAN LINK GAMBAR PREVIEW ANDA -->
    <!-- Gambar harus beresolusi tinggi, disarankan 1200 x 630 piksel. -->
    <meta property="og:image" content="https://imgur.com/a/xirGBpA">
    <meta property="og:url" content="https://domainanda.com/tanya-kami"> <!-- Ganti dengan URL halaman ini -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Nama Bisnis Anda">
    <!-- --- AKHIR OPEN GRAPH META TAGS --- -->

    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font Configuration -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            /* Ensure the body takes up the full viewport height and is clickable */
            min-height: 100vh;
            background-color: #f0f2f5; 
            cursor: pointer; /* Change cursor to pointer to indicate clickability */
        }
        /* Style for WhatsApp icon */
        .whatsapp-icon {
            color: #25D366; /* WhatsApp green color */
            fill: currentColor;
        }
        /* Override default body cursor for interactive elements within the main container */
        .clickable-container * {
            cursor: pointer;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">

    <!-- Main Container -->
    <div id="mainContainer" class="clickable-container w-full max-w-sm bg-white p-6 md:p-8 rounded-xl shadow-2xl border border-gray-100 transform transition duration-500 hover:scale-[1.01] hover:shadow-3xl">

        <!-- Header and Icon -->
        <div class="flex flex-col items-center mb-10">
            <!-- WhatsApp Icon (Simple SVG) -->
            <svg class="whatsapp-icon w-16 h-16 mb-4 animate-bounce-in" viewBox="0 0 24 24">
                <path d="M12.001 0C6.117 0 1.344 4.773 1.344 10.657c0 1.956.527 3.868 1.542 5.524l-1.61 5.922 6.07-1.583a10.61 10.61 0 005.655 1.582c5.885 0 10.657-4.773 10.657-10.657C22.657 4.773 17.885 0 12.001 0zM17.478 15.016c-.328.875-2.022 1.838-2.775 1.928-.753.09-1.579.03-2.195-.164-.616-.194-1.344-.457-2.083-1.077-.738-.62-1.761-1.854-2.488-3.376-.727-1.522-.843-2.316-.27-2.887.573-.572 1.258-.875 1.638-.875.38 0 .684.03.953.064.269.034.426.13.62.535.194.405.67.62.748.748.079.127.143.27.064.444-.079.174-.194.348-.34.542-.147.194-.293.388-.444.595-.15.207-.328.401-.13.781.194.38.62.969 1.48.595 1.777-.768 2.946-2.288 3.036-2.558.09-.27.154-.482.243-.657.089-.174.194-.348.29-.444.097-.097.243-.243.34-.37.097-.127.194-.254.273-.348.079-.094.27-.194.457-.194h.542c.187 0 .426.03.781.916.355.886.684 1.777.953 2.584.27 0 .542.064.811.064.089.03.328.127.328.401-.004.273-.064.444-.097.62-.034.174-.194.401-.482.595-.288.194-.577.34-.781.444-.203.104-.377.168-.457.258-.079.09-.13.203-.13.348v.444c0 .34-.13.564-.488.755z"/>
            </svg>
            <h1 class="text-2xl font-bold text-gray-800">Continue to WhatsApp</h1>
            <p class="text-sm text-gray-500 mt-1 text-center">You will be redirected to our service link.</p>
        </div>

        <!-- Main Button -->
        <button id="whatsappButton" class="w-full flex items-center justify-center bg-green-500 text-white py-3 px-6 rounded-lg font-semibold text-lg hover:bg-green-600 focus:outline-none focus:ring-4 focus:ring-green-300 transition duration-200 shadow-md hover:shadow-lg active:scale-95">
            <svg class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 24 24">
                <path d="M16.75 14.4l-1.39-0.89c-0.19-0.12-0.45-0.18-0.71-0.18c-0.34 0-0.67 0.12-0.91 0.35l-0.89 0.89c-0.09 0.09-0.23 0.14-0.37 0.14c-0.14 0-0.27-0.05-0.37-0.14l-2.09-2.09c-0.2-0.2-0.31-0.47-0.31-0.75c0-0.28 0.11-0.55 0.31-0.75l0.89-0.89c0.23-0.23 0.35-0.57 0.35-0.91c0-0.26-0.06-0.52-0.18-0.71l-0.89-1.39c-0.12-0.19-0.34-0.31-0.57-0.31h-1.02c-0.28 0-0.55 0.11-0.75 0.31l-0.89 0.89c-0.2 0.2-0.31 0.47-0.31 0.75c0 0.17 0.04 0.34 0.11 0.49l0.98 1.96c-0.65 1.4-1.68 2.66-2.88 3.7l-0.22 0.17c-0.23 0.18-0.37 0.44-0.37 0.73c0 0.28 0.11 0.55 0.31 0.75l0.89 0.89c0.2 0.2 0.47 0.31 0.75 0.31h1.02c0.28 0 0.55-0.11 0.75-0.31l0.89-0.89c0.2-0.2 0.31-0.47 0.31-0.75c0-0.17-0.04-0.34-0.11-0.49l-0.98-1.96c0.65-1.4 1.68-2.66 2.88-3.7l0.22-0.17c0.23-0.18 0.37-0.44 0.37-0.73c0-0.28-0.11-0.55-0.31-0.75l-0.89-0.89c-0.2-0.2-0.47-0.31-0.75-0.31h-1.02zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
            </svg>
            Continue to WhatsApp
        </button>
        
        <!-- Additional spacing below button to maintain layout -->
        <div class="mt-6"></div> 
    </div>

    <!-- JavaScript Script -->
    <script type="module">
        // --- FIREBASE AND AUTH CONFIGURATION (Mandatory Boilerplate) ---
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables provided by the environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let app, db, auth;
        let userId = null;

        try {
            if (Object.keys(firebaseConfig).length > 0) {
                setLogLevel('Debug');
                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                        console.log("Firebase Authenticated. User ID:", userId);
                    } else {
                        console.log("Firebase Auth State: Signed out/Anonymous.");
                    }
                });

                if (initialAuthToken) {
                    signInWithCustomToken(auth, initialAuthToken)
                        .then(() => console.log("Custom token sign-in successful."))
                        .catch(error => console.error("Custom token sign-in failed:", error.message));
                } else {
                    signInAnonymously(auth)
                        .then(() => console.log("Anonymous sign-in successful."))
                        .catch(error => console.error("Anonymous sign-in failed:", error.message));
                }
            } else {
                console.warn("Firebase configuration is missing.");
            }
        } catch (error) {
            console.error("Failed to initialize Firebase:", error);
        }
        // --- END OF FIREBASE CONFIGURATION ---

        // --- MAIN WHATSAPP REDIRECT LOGIC ---

        // Ganti nilai di bawah ini dengan link domain kustom Anda (misalnya, link redirect ke WhatsApp)
        const CUSTOM_REDIRECT_LINK = "https://rockyappliance.com/hf980g6ku?key=f8ab6a44988465d9b54ea372ced89ee5"; 

        /**
         * Redirects the user to the custom link.
         * Contains a guard clause to prevent double redirection.
         */
        window.redirectToWhatsApp = function() {
            // Prevent double redirection if the function is called twice rapidly (e.g., from two listeners)
            const button = document.getElementById('whatsappButton');
            if (button.disabled) return;

            // Redirect the user to the custom link
            console.log("Redirecting to:", CUSTOM_REDIRECT_LINK);
            
            // Disable button and change text before redirecting
            button.disabled = true;
            button.textContent = 'Redirecting...';
            
            // Perform redirection
            window.location.href = CUSTOM_REDIRECT_LINK;
        }

        // Tambahkan satu click listener ke seluruh body.
        // Klik di mana saja (termasuk tombol) akan memicu fungsi redirectToWhatsApp().
        document.body.addEventListener('click', redirectToWhatsApp);

        // --- END OF MAIN WHATSAPP REDIRECT LOGIC ---

    </script>
</body>
</html>
